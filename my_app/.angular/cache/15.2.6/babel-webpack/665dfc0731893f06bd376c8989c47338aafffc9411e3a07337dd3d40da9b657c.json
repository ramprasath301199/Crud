{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport * as forms from '@angular/forms';\nimport { Validators } from '@angular/forms';\nlet HomeComponent = class HomeComponent {\n  constructor(service, router) {\n    this.service = service;\n    this.router = router;\n    this.datas = [];\n    this.update = false;\n  }\n  ngOnInit() {\n    var token = localStorage.getItem(\"token\");\n    if (!token) {\n      this.router.navigateByUrl(\"/login\");\n    } else {\n      var username = localStorage.getItem(\"name\");\n      this.user = username;\n    }\n    this.service.getdetails().subscribe(data => {\n      this.datas = data;\n      console.log(typeof this.datas);\n    });\n    this.profileForm = new forms.FormGroup({\n      name: new forms.FormControl('', [Validators.required]),\n      LastName: new forms.FormControl('', [Validators.required]),\n      Mobile: new forms.FormControl('', [Validators.required]),\n      Address: new forms.FormControl('', [Validators.required])\n    });\n  }\n  getdet(id) {\n    this.update = true;\n    this.getId = id;\n    this.result = this.datas.find(o => o.Id == id);\n    console.log(this.result);\n    //var name = document.getElementById(\"name\");\n    // name.nodeValue = this.result.name;\n    this.profileForm.get(\"name\").setValue(this.result.name);\n    this.profileForm.get(\"LastName\").setValue(this.result.LastName);\n    this.profileForm.get(\"Mobile\").setValue(this.result.Mobile);\n    this.profileForm.get(\"Address\").setValue(this.result.Address);\n    console.log(this.profileForm.value);\n  }\n  onSubmit(form) {\n    console.log(form);\n    if (!form.valid) {\n      alert(\"Form Is Invalid\");\n    } else if (form.valid && this.update) {\n      this.service.update(form.value, this.getId).subscribe(data => {\n        console.log(data);\n        if (data) {\n          this.closeModal.nativeElement.click();\n          window.location.reload();\n        }\n      });\n    } else {\n      this.service.createuser(form.value).subscribe(data => {\n        console.log(data);\n        if (data) {\n          this.closeModal.nativeElement.click();\n          window.location.reload();\n        }\n      });\n    }\n  }\n  delete(id) {\n    this.service.delete(id).subscribe(data => {\n      console.log(data);\n      if (confirm(\"Are You Want To Delete\") == true) {\n        if (data == \"success\") {\n          window.location.reload();\n        }\n      } else {\n        console.log(\"canceled\");\n      }\n    });\n  }\n  logout() {\n    localStorage.removeItem(\"token\");\n    this.router.navigateByUrl(\"/login\");\n  }\n};\n__decorate([ViewChild('closeModal')], HomeComponent.prototype, \"closeModal\", void 0);\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":"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","names":["Component","ViewChild","forms","Validators","HomeComponent","constructor","service","router","ngOnInit","token","localStorage","getItem","navigateByUrl","username","user","getdetails","subscribe","data","datas","console","log","profileForm","FormGroup","name","FormControl","required","LastName","Mobile","Address","getdet","id","update","getId","result","find","o","Id","get","setValue","value","onSubmit","form","valid","alert","closeModal","nativeElement","click","window","location","reload","createuser","delete","confirm","logout","removeItem","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\admin\\my_project\\my_app\\src\\app\\pages\\home\\home.component.ts"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport * as forms from '@angular/forms';\nimport { NgForm, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { DataService } from 'src/app/services/data.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  @ViewChild('closeModal') private closeModal: ElementRef;\n  profileForm: forms.FormGroup;\n  datas: any[] = [];\n  result: any;\n  getId: any;\n  update: boolean = false;\n  user: string;\n  constructor(private service: DataService, private router: Router) {\n  }\n  ngOnInit(): void {\n    var token = localStorage.getItem(\"token\");\n    if (!token) {\n      this.router.navigateByUrl(\"/login\");\n    } else {\n      var username = localStorage.getItem(\"name\");\n      this.user = username;\n    }\n    this.service.getdetails().subscribe((data: any) => {\n      this.datas = data;\n      console.log(typeof this.datas);\n    })\n    this.profileForm = new forms.FormGroup({\n      name: new forms.FormControl('', [Validators.required]),\n      LastName: new forms.FormControl('', [Validators.required]),\n      Mobile: new forms.FormControl('', [Validators.required]),\n      Address: new forms.FormControl('', [Validators.required]),\n    });\n  }\n  getdet(id) {\n    this.update = true;\n    this.getId = id;\n    this.result = this.datas.find(o => o.Id == id);\n    console.log(this.result);\n    //var name = document.getElementById(\"name\");\n    // name.nodeValue = this.result.name;\n    this.profileForm.get(\"name\").setValue(this.result.name);\n    this.profileForm.get(\"LastName\").setValue(this.result.LastName);\n    this.profileForm.get(\"Mobile\").setValue(this.result.Mobile);\n    this.profileForm.get(\"Address\").setValue(this.result.Address);\n    console.log(this.profileForm.value);\n  }\n  onSubmit(form) {\n    console.log(form);\n    if (!form.valid) {\n      alert(\"Form Is Invalid\");\n    }\n    else if (form.valid && this.update) {\n      this.service.update(form.value, this.getId).subscribe((data) => {\n        console.log(data);\n        if (data) {\n          this.closeModal.nativeElement.click();\n          window.location.reload();\n        }\n      });\n    } else {\n      this.service.createuser(form.value).subscribe((data) => {\n        console.log(data);\n        if (data) {\n          this.closeModal.nativeElement.click();\n          window.location.reload();\n        }\n      })\n    }\n  }\n  delete(id) {\n    this.service.delete(id).subscribe(data => {\n      console.log(data);\n      if (confirm(\"Are You Want To Delete\") == true) {\n        if (data == \"success\") {\n          window.location.reload();\n        }\n      } else {\n        console.log(\"canceled\");\n      }\n    })\n  }\n  logout() {\n    localStorage.removeItem(\"token\");\n    this.router.navigateByUrl(\"/login\");\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}